<view class="study-article-container">
  <view wx:for="{{page.list}}" wx:for-item="item" wx:for-index="index" wx:key="{{item.id}}" data-index="{{index}}"
    class="item" catchtap="clickItem">
    <view class="head-info">
      <image src="{{item.author.data.avatar}}"/>
      <view>{{item.author.data.nickname}}</view>
    </view>
    <image class="content-image" src="{{item.cover}}"/>
    <view class="title">{{item.title}}</view>
    <view class="operation-container">
      <view class="collection-container" data-index="{{index}}" catchtap="toggleCollectionItem">
        <image hidden="{{item.isCollection ||  page.showCollection}}" src="/assets/imgs/collection.png"/>
        <image hidden="{{!item.isCollection && !page.showCollection}}" src="/assets/imgs/collection-active.png"/>
        <text>{{item.collection_num}}</text>
      </view>
      <view class="moments-container" data-index="{{index}}" catchtap="generatePoster">
        <image src="/assets/imgs/moments.png"/>
        <text>海报分享</text>
      </view>
      <view class="btn share">
        <image src="/assets/imgs/wechat-share.png"/>
        <text>分享好友</text>
        <button open-type="share" data-index="{{index}}" catchtap="share"></button>
      </view>
    </view>
  </view>
</view>
<empty 
  loading="{{page.loading}}"
  hasData="{{!!page.list.length}}"
  hasMore="{{page.current_page < page.total_pages}}"/>