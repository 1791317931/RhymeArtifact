<view class="study-article-container">
  <view wx:for="{{page.list}}" wx:for-item="item" wx:for-index="index" wx:key="{{item.id}}" data-index="{{index}}"
    class="item" catchtap="clickItem">
    <view class="head-info">
      <image class="avatar" src="{{item.author.data.avatar || '/assets/imgs/avatar-default.png'}}"/>
      <view class="info">
        <view class="name">{{item.author.data.nickname}}</view>
        <view class="time">{{item.author.data.created_at}}</view>
      </view>
      <view hidden="{{item.user.data.follow_status != 0 && item.user.data.follow_status != 3}}" class="follow" data-index="{{index}}" catchtap="toggleFollow">{{item.user.data.follow_status == 0 ? '关注' : '互粉'}}</view>
      <view hidden="{{item.user.data.follow_status != 1 && item.user.data.follow_status != 2}}" class="follow active" data-index="{{index}}" catchtap="toggleFollow">{{item.user.data.follow_status == 1 ? '取消' : '取消互粉'}}</view>
    </view>
    <view class="content-container">
      <image class="content-image" src="{{item.cover}}"/>
      <view class="title">{{item.title}}</view>
    </view>
  </view>
</view>
<empty 
  loading="{{page.loading}}"
  hasData="{{!!page.list.length}}"
  hasMore="{{page.current_page < page.total_pages}}"/>